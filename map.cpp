#include"DxLib.h"
#include"main.h"
#include"map.h"




int mapImage[6];
XY mapPos;
int map[MAP_Y][MAP_X] = {
{8,1,1,1,1,1,1,1, 1,1,1,1,1,1,1,1, 1,1,1,1,1,1,1,1, 1,1,1,1,1,1,1,1, 1,1,1,1,1,1,1,1, 1,1,1,1,1,1,1,8,},
{8,1,1,1,1,1,1,1, 1,1,1,1,1,1,1,1, 1,1,1,1,1,1,1,1, 1,1,1,1,1,1,1,1, 1,1,1,1,1,1,1,1, 1,1,1,1,1,1,1,8,},
{8,1,1,1,1,1,1,1, 1,1,1,1,1,1,1,1, 1,1,1,1,8,1,1,1, 1,1,1,1,1,1,1,1, 1,1,1,1,1,1,1,1, 1,1,1,1,1,1,1,8,},
{8,1,1,1,1,1,1,1, 8,8,1,1,1,1,1,8, 1,1,1,1,1,1,1,1, 1,1,1,1,8,8,8,1, 1,1,1,1,1,1,1,1, 1,1,8,8,8,1,1,8,},
{8,1,1,1,1,1,1,1, 1,1,1,1,1,1,1,1, 1,1,1,1,1,1,1,1, 1,1,1,1,1,1,1,1, 1,1,1,1,8,1,1,1, 1,1,1,1,1,1,1,8,},
{8,1,1,1,1,1,1,1, 1,1,1,1,1,1,1,1, 8,1,1,1,1,1,1,8, 1,8,1,1,1,1,1,1, 1,1,1,1,1,1,1,1, 1,1,1,1,1,1,1,8,},
{8,1,1,1,1,8,8,1, 1,1,1,1,1,1,1,1, 1,8,8,8,8,8,8,1, 1,8,1,1,1,1,1,1, 1,1,1,1,1,1,1,1, 1,1,1,1,1,1,1,8,},
{8,1,1,1,1,1,1,1, 1,1,1,8,8,1,1,1, 1,1,1,1,8,1,1,1, 1,8,1,1,1,1,1,1, 1,1,8,8,8,8,8,1, 1,8,1,1,1,1,1,8,},
{8,1,1,1,1,1,1,1, 1,1,1,1,1,1,1,1, 1,1,1,1,8,1,1,1, 1,8,1,1,1,1,1,1, 1,1,1,1,1,1,1,1, 1,8,8,8,1,1,1,8,},
{8,1,1,1,1,1,1,1, 8,8,1,1,1,1,1,1, 1,1,1,1,8,1,1,1, 1,8,8,8,8,1,1,1, 1,1,1,1,1,1,1,1, 1,1,1,1,8,1,1,8,},
{8,1,1,1,8,8,8,1, 1,1,1,1,1,1,1,1, 1,1,8,8,8,1,1,1, 1,1,1,1,1,8,1,1, 1,1,1,1,1,1,1,1, 1,1,1,1,1,1,1,8,},
{8,1,1,1,1,1,1,1, 1,1,1,1,1,1,1,1, 1,1,1,1,1,1,1,1, 1,1,1,1,1,1,1,1, 1,1,1,1,1,1,1,1, 1,1,1,1,1,1,1,8,},
{8,8,1,1,1,1,1,1, 1,1,1,1,1,1,1,1, 1,1,1,1,1,1,1,1, 1,1,1,1,1,1,1,1, 1,1,1,1,1,1,1,1, 1,1,1,1,1,1,8,8,},
{8,1,1,1,1,1,1,1, 1,1,1,1,1,1,1,1, 1,1,1,1,1,1,1,1, 1,1,1,1,1,1,1,1, 1,1,1,1,1,1,1,1, 1,1,1,1,1,1,1,8, },
{8,8,8,8,8,8,8,8, 8,8,8,8,8,8,8,8, 8,8,8,8,8,8,8,8, 8,8,8,8,8,8,8,8, 8,8,8,8,8,8,8,8, 8,8,8,8,8,8,8,8,},
};

void StageSystemInit(void)
{
	LoadDivGraph("IMAGE/map.png", 6, 32, 1, CHIP_SIZE_X, CHIP_SIZE_Y, mapImage);

	mapPos.x = 0;
	mapPos.y = 0;
}
void StageGameInit(void)
{
	mapPos.x = 0;
	mapPos.y = 0;
}
void StageGameDraw(void)
{
	for (int y = 0; y < MAP_Y; y++)
	{
		for (int x = 0; x < MAP_X; x++)
		{
			DrawGraph(x*CHIP_SIZE_X - mapPos.x, y*CHIP_SIZE_Y - mapPos.y, mapImage[map[y][x]], true);
		}
	}
}
XY PosToIndex(XY pos)
{
	XY tmp;

	tmp.x = pos.x / CHIP_SIZE_X;
	tmp.y = pos.y / CHIP_SIZE_Y;

	return tmp;
}
XY IndexToPos(XY index)
{
	XY tmp;

	tmp.x = index.x * CHIP_SIZE_X;
	tmp.y = index.y * CHIP_SIZE_Y;

	return tmp;
}
//Žw’è‚µ‚½À•W‚ª’Ê‰ß‰Â”\‚©‚ð•Ô‚·
bool IsPass(XY pos)
{
	XY indexPos;

	indexPos = PosToIndex(pos);
	if (map[indexPos.y][indexPos.x] == 8
		)
	{
		//’Ê‚ê‚È‚¢
		return false;
	}
	else
	{
		//’Ê‚ê‚é
		return true;
	}


}
